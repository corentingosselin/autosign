$("#modal").html("<style>\n    canvas {\n        border: dotted#c2c2c2 2px;\n        background: #f1f2f7;\n    }\n<\/style>\n<div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Émargement<\/h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <i aria-hidden=\"true\" class=\"ki ki-close\"><\/i>\n            <\/button>\n        <\/div>\n        <div class=\"modal-body\">\n            <form class=\"new_course_user_signature\" id=\"new_course_user_signature\" action=\"/apps/course_user_signatures\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\">\n            <input value=\"25716\" autocomplete=\"off\" type=\"hidden\" name=\"course_user_signature[planning_event_id]\" id=\"course_user_signature_planning_event_id\" />\n            <input class=\"signature_pad_input\" autocomplete=\"off\" type=\"hidden\" name=\"course_user_signature[signature_data]\" id=\"course_user_signature_signature_data\" />\n            <center>\n                <canvas id=\"signature-pad\" class=\"signature-pad\"><\/canvas>\n                <div>\n                    <a id=\"clear\" class=\"btn btn-light\">Effacer<\/a>\n                <\/div>\n                <div class=\"mt-5\">\n                    J\'atteste signer en tant que : <br>\n                    <strong>\n                        GOSSELIN Corentin<br>(corentin.gosselin@supinfo.com)\n                    <\/strong>\n                    <br>\n                    <br>\n\n                    En validant ma signature, je confirme être présent(e) au cours : <br>\n                    <strong>\n                        5DESI : System Design<br>\n                        Du\n                        vendredi 17 nov. 2023 13:00\n                        au\n                        vendredi 17 nov. 2023 17:00\n                    <\/strong>\n\n                <\/div>\n                <button id=\"save\" class=\"btn btn-success mt-7 font-weight-bold signature_pad_save\"\n                    data-disable-with=\"Sauvegarde en cours...\">Valider mon émargement<\/button>\n            <\/center>\n<\/form>        <\/div>\n    <\/div>\n<\/div>")
$("#modal").modal("show");

$("#modal").html("<style>\n    canvas {\n        border: dotted#c2c2c2 2px;\n        background: #f1f2f7;\n    }\n<\/style>\n<div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Émargement<\/h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <i aria-hidden=\"true\" class=\"ki ki-close\"><\/i>\n            <\/button>\n        <\/div>\n        <div class=\"modal-body\">\n            <form class=\"new_course_user_signature\" id=\"new_course_user_signature\" action=\"/apps/course_user_signatures\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\">\n            <input value=\"25716\" autocomplete=\"off\" type=\"hidden\" name=\"course_user_signature[planning_event_id]\" id=\"course_user_signature_planning_event_id\" />\n            <input class=\"signature_pad_input\" autocomplete=\"off\" type=\"hidden\" name=\"course_user_signature[signature_data]\" id=\"course_user_signature_signature_data\" />\n            <center>\n                <canvas id=\"signature-pad\" class=\"signature-pad\"><\/canvas>\n                <div>\n                    <a id=\"clear\" class=\"btn btn-light\">Effacer<\/a>\n                <\/div>\n                <div class=\"mt-5\">\n                    J\'atteste signer en tant que : <br>\n                    <strong>\n                        GOSSELIN Corentin<br>(corentin.gosselin@supinfo.com)\n                    <\/strong>\n                    <br>\n                    <br>\n\n                    En validant ma signature, je confirme être présent(e) au cours : <br>\n                    <strong>\n                        5DESI : System Design<br>\n                        Du\n                        vendredi 17 nov. 2023 13:00\n                        au\n                        vendredi 17 nov. 2023 17:00\n                    <\/strong>\n\n                <\/div>\n                <button id=\"save\" class=\"btn btn-success mt-7 font-weight-bold signature_pad_save\"\n                    data-disable-with=\"Sauvegarde en cours...\">Valider mon émargement<\/button>\n            <\/center>\n<\/form>        <\/div>\n    <\/div>\n<\/div>")
$("#modal").modal("show");

var signaturePad = new SignaturePad(document.getElementById('signature-pad'));

var saveButton = document.getElementById('save');
var cancelButton = document.getElementById('clear');

cancelButton.addEventListener('click', function(event) {
    signaturePad.clear();
});

$('.signature_pad_save').click(function(event) {
    if (signaturePad.isEmpty()) {
        toastr.error("Signature vide")
        event.preventDefault();
    } else {
        $('.signature_pad_input').val(signaturePad.toDataURL());
    }
});
